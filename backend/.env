# .env.example
# Copier ce fichier en .env et remplir les valeurs

# ====================
# Application Settings
# ====================
APP_NAME=SUPRSS
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=True
API_PREFIX=/api

# ====================
# Database Configuration
# ====================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=mypassword
POSTGRES_HOST=postgres  # Utiliser 'postgres' dans Docker
POSTGRES_PORT=5432
POSTGRES_DB=suprss_bd

# URL de connexion complète (optionnel, sera générée automatiquement)
# DATABASE_URL=postgresql://postgres:mypassword@localhost:5432/suprss_bd

# ====================
# Redis Configuration
# ====================
REDIS_HOST=redis  # Utiliser 'redis' dans Docker
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=  # Laisser vide si pas de mot de passe

# ====================
# Security Settings
# ====================
SECRET_KEY=your-secret-key-change-this-in-production-minimum-32-chars
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=24
PASSWORD_RESET_TOKEN_EXPIRE_HOURS=1
BCRYPT_ROUNDS=12

# ====================
# CORS Settings
# ====================
# Liste des origines autorisées séparées par des virgules
CORS_ORIGINS_STR=http://localhost,http://localhost:3000,http://localhost:8000,http://localhost:8080


# ====================
# Email Configuration
# ====================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@suprss.com
SMTP_FROM_NAME=SUPRSS
SMTP_TLS=True
SMTP_SSL=False
EMAIL_ENABLED=False  # Mettre True pour activer l'envoi d'emails

# ====================
# RSS Feed Settings
# ====================
RSS_USER_AGENT=SUPRSS/1.0 (+https://github.com/desireiai/suprss)
RSS_TIMEOUT=30
RSS_MAX_ENTRIES_PER_FEED=100
RSS_DEFAULT_UPDATE_FREQUENCY_HOURS=6
RSS_MIN_UPDATE_FREQUENCY_HOURS=1
RSS_MAX_UPDATE_FREQUENCY_HOURS=168

# ====================
# Pagination
# ====================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ====================
# File Upload
# ====================
MAX_UPLOAD_SIZE=10485760  # 10 MB en bytes
#ALLOWED_UPLOAD_EXTENSIONS=.opml,.xml,.json,.csv

# ====================
# Cache Settings
# ====================
CACHE_TTL=300  # 5 minutes
CACHE_ENABLED=True

# ====================
# Search Settings
# ====================
SEARCH_MIN_LENGTH=2
SEARCH_MAX_LENGTH=200
SEARCH_MAX_RESULTS=100
ENABLE_FULL_TEXT_SEARCH=True

# ====================
# WebSocket Settings
# ====================
WS_MESSAGE_QUEUE_SIZE=100
WS_HEARTBEAT_INTERVAL=30

# ====================
# OAuth2 Providers (optionnel)
# ====================
# Google OAuth2
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_REDIRECT_URI=http://localhost:8000/api/auth/google/callback

# Microsoft OAuth2
MICROSOFT_CLIENT_ID=
MICROSOFT_CLIENT_SECRET=
MICROSOFT_REDIRECT_URI=http://localhost:8000/api/auth/microsoft/callback

# GitHub OAuth2
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_REDIRECT_URI=http://localhost:8000/api/auth/github/callback

# ====================
# Monitoring
# ====================
ENABLE_METRICS=True
METRICS_ENDPOINT=/metrics

# ====================
# Logging
# ====================
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s
LOG_FILE=  # Laisser vide pour logger uniquement sur stdout

# ====================
# Rate Limiting
# ====================
RATE_LIMIT_ENABLED=True
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_PER_DAY=10000

# ====================
# Data Retention
# ====================
ARTICLE_RETENTION_DAYS=90
NOTIFICATION_RETENTION_DAYS=30
SEARCH_HISTORY_RETENTION_DAYS=30

# ====================
# Feature Flags
# ====================
FEATURE_OAUTH2_LOGIN=False
FEATURE_WEBSOCKET_CHAT=True
FEATURE_EMAIL_NOTIFICATIONS=False
FEATURE_EXPORT_IMPORT=True
FEATURE_ADVANCED_SEARCH=True

# ====================
# Scheduler
# ====================
SCHEDULER_ENABLED=True
SCHEDULER_TIMEZONE=Europe/Paris

# ====================
# Sentry (Error Tracking) - Optionnel
# ====================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ====================
# External Services
# ====================
# API Keys pour services externes (si nécessaire)
# WEATHER_API_KEY=
# NEWS_API_KEY=
# TRANSLATION_API_KEY=

# ====================
# Development Settings
# ====================
# Ces paramètres ne sont utilisés qu'en développement
DEV_AUTO_RELOAD=True
DEV_CORS_ALLOW_ALL=True
DEV_SHOW_SQL_QUERIES=True

# ====================
# Testing Settings
# ====================
# Base de données de test
TEST_DATABASE_URL=postgresql://postgres:mypassword@localhost:5432/suprss_test_bd
TEST_REDIS_URL=redis://localhost:6379/1

# ====================
# Production Settings
# ====================
# Ces paramètres ne sont utilisés qu'en production
PROD_ENABLE_HTTPS_REDIRECT=True
PROD_ENABLE_COMPRESSION=True
PROD_ENABLE_CACHE=True
PROD_MIN_WORKERS=4
PROD_MAX_WORKERS=8